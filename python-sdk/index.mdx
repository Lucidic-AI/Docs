---
title: 'Python SDK Functions'
description: 'Complete reference for all Lucidic Python SDK functions'
---

## Overview

The Lucidic Python SDK provides a comprehensive set of functions to track, monitor, and analyze AI agent workflows. These functions handle session management, event tracking, and integration with various LLM providers.

## Installation

```bash
pip install lucidicai
```

## Quick Start

```python
from lucidicai import LucidicAI

# Initialize client
client = LucidicAI(api_key="...", providers=["openai"])

# Use context manager for session lifecycle
with client.sessions.create(session_name="My AI Agent"):
    # LLM calls are automatically tracked as events
    response = openai.chat.completions.create(...)

    # Manual events for custom operations
    client.events.emit(
        name="Custom operation",
        input={"key": "value"},
        output={"result": "success"}
    )
```

## Session Management

<CardGroup cols={2}>
  <Card title="init / sessions.create" icon="play" href="/python-sdk/init">
    Initialize a new Lucidic session
  </Card>
  <Card title="end_session / sessions.end" icon="stop" href="/python-sdk/end_session">
    End the current session
  </Card>
  <Card title="update_session" icon="pen" href="/python-sdk/update_session">
    Update session metadata
  </Card>
  <Card title="Session Context" icon="link" href="/python-sdk/session-context">
    Async-safe context managers and helpers
  </Card>
</CardGroup>

## Event Management

<CardGroup cols={2}>
  <Card title="events.create / acreate" icon="plus" href="/python-sdk/events/create">
    Create events synchronously or asynchronously
  </Card>
  <Card title="events.emit" icon="bolt" href="/python-sdk/events/emit">
    Zero-latency background event emission
  </Card>
  <Card title="@client.event()" icon="at" href="/python-sdk/events/decorator">
    Decorator for automatic function call tracking
  </Card>
  <Card title="Event Overview" icon="list" href="/python-sdk/events/index">
    Overview of event management
  </Card>
</CardGroup>

## Advanced Features

<CardGroup cols={2}>
  <Card title="get_prompt" icon="message" href="/python-sdk/get_prompt">
    Retrieve prompts from the database
  </Card>
  <Card title="Datasets" icon="database" href="/python-sdk/datasets">
    Work with test datasets
  </Card>
  <Card title="Experiments" icon="flask" href="/python-sdk/working-with-experiments">
    Work with experiments
  </Card>
</CardGroup>

## Decorators

<CardGroup cols={2}>
  <Card title="@client.event()" icon="at" href="/python-sdk/events/decorator">
    Track function calls as events automatically
  </Card>
</CardGroup>

## Context Managers

<CardGroup cols={2}>
  <Card title="session" icon="link" href="/python-sdk/context/session">
    Full-lifecycle session within a context
  </Card>
  <Card title="session_async" icon="link" href="/python-sdk/context/session_async">
    Async full-lifecycle session within a context
  </Card>
  <Card title="bind_session" icon="link" href="/python-sdk/context/bind_session">
    Bind existing session for a block (no end)
  </Card>
  <Card title="bind_session_async" icon="link" href="/python-sdk/context/bind_session_async">
    Async bind-only session context
  </Card>
  <Card title="run_session" icon="link" href="/python-sdk/context/run_session">
    Run a function in a new session context
  </Card>
  <Card title="run_in_session" icon="link" href="/python-sdk/context/run_in_session">
    Run a function in an existing session context
  </Card>
  <Card title="set_active_session" icon="link" href="/python-sdk/context/set_active_session">
    Manually set the active session id
  </Card>
  <Card title="clear_active_session" icon="link" href="/python-sdk/context/clear_active_session">
    Clear the active session id
  </Card>
</CardGroup>

## Function Categories

### Session Lifecycle

1. **Initialization**: Use `client.sessions.create()` to start a new session
2. **Updates**: Modify session data with `client.sessions.update()` or `update_session()`
3. **Completion**: End with `client.sessions.end()` including final evaluation

### Event Tracking

1. **Automatic**: LLM calls through instrumented providers create events automatically
2. **Manual**: Use `client.events.create()` or `.emit()` for custom events
3. **Decorators**: Use `@client.event()` for function-level tracking

### Utilities

1. **Prompts**: Centralized prompt management with `client.prompts.get()`
2. **Datasets**: Work with test datasets for systematic validation

### Context Managers

Use these for async/thread-safe session handling:

- `client.sessions.create(...)` — full lifecycle within a context manager
- `session(...)` — full lifecycle within a context
- `session_async(...)` — async variant
- `bind_session(session_id)` — bind only (no end)
- `bind_session_async(session_id)` — async variant
- `run_session(fn, init_params, ...)` — run a function within a new session
- `run_in_session(session_id, fn, ...)` — run a function in an existing session
- `set_active_session(session_id)` / `clear_active_session()` — manual control

See the dedicated pages under Context Managers in the sidebar.

## Provider Support

The SDK automatically instruments these providers when specified:

- **OpenAI** - `providers=["openai"]`
- **Anthropic** - `providers=["anthropic"]`
- **LangChain** - `providers=["langchain"]`
- **PydanticAI** - `providers=["pydantic_ai"]`
- **OpenAI Agents** - `providers=["openai_agents"]`
- **LiteLLM** - `providers=["litellm"]` (tracks many providers via LiteLLM)

### Integration Guides

- [LiteLLM](/integrations/litellm) — bridge LiteLLM to Lucidic events

## Best Practices

1. **Prefer Context Managers**: Use `with client.sessions.create(...)` for self-sufficient workflows
2. **Use `.emit()` for Hot Paths**: Zero-latency tracking for high-frequency events
3. **Decorate Key Functions**: Use `@client.event()` for important operations
4. **Concurrent Safety**: Rely on context-bound sessions instead of globals in multi-threaded/async code
5. **Ensure Cleanup**: Context managers handle cleanup; otherwise call `client.sessions.end()` explicitly

## Error Handling

```python
from lucidicai.errors import (
    APIKeyVerificationError,
    InvalidOperationError,
    LucidicNotInitializedError,
    PromptError
)

try:
    client = LucidicAI(api_key="...")
    with client.sessions.create(session_name="My Session"):
        ...
except APIKeyVerificationError:
    print("Check your API credentials")
except InvalidOperationError:
    print("Invalid operation")
```

## Environment Variables

- `LUCIDIC_API_KEY` - Your API key for authentication
- `LUCIDIC_AGENT_ID` - Your agent identifier
- `LUCIDIC_PRODUCTION_MONITORING` - Enable production mode
- `LUCIDIC_AUTO_END` - Control automatic session ending

## See Also

- [Getting Started Guide](/getting-started/quickstart)
- [Core Concepts](/feature-overview/sessions)
- [Integration Examples](/integrations/openai)
